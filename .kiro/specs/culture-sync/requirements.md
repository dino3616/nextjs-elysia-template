# Requirements Document

## Introduction

CultureSyncは、現地文化・習慣を踏まえた旅行プラン設計の課題を解決する、学術的知見に基づく文化アドバイス付きプラン生成システムです。異文化体験重視の旅好き層をターゲットとし、信頼性の高い学術的視点から文化情報を提供することで、より深い文化体験と適切な現地マナーの理解を可能にします。

本システムは、軽量JSON文化データベース、リアルタイム注意事項ポップアップ、翻訳リンク付き観光情報の3つの主要機能により、25分での迅速な実装を目指します。

## Requirements

### Requirement 1: 文化インサイト自動挿入システム

**User Story:** 異文化体験重視の旅行者として、目的地の文化的背景や習慣について学術的に信頼できる情報を自動的に取得したい。これにより現地での適切な行動や深い文化理解が可能になる。

#### Acceptance Criteria

1. **WHEN** ユーザーが目的地（国名または都市名）を入力する **THEN** システム **SHALL** 該当地域の文化インサイトを文化データベースから検索して表示する

2. **IF** 入力された目的地が文化データベースに存在する **THEN** システム **SHALL** 以下の文化インサイト情報を自動挿入する:
   - 宗教的背景と慣習
   - 社会的マナーとタブー  
   - 伝統的な挨拶方法
   - 食事のエチケット
   - 服装に関する文化的配慮事項

3. **IF** 入力された目的地が文化データベースに存在しない **THEN** システム **SHALL** 「この地域の文化情報は現在準備中です」というメッセージを表示する

4. **WHEN** 文化インサイトが表示される **THEN** システム **SHALL** 各情報項目に学術的出典または信頼性レベルを併記する

5. **WHERE** 文化インサイト表示エリア **THE SYSTEM SHALL** 情報の最終更新日時を表示する

6. **WHILE** ユーザーが文化インサイトを閲覧している **THE SYSTEM SHALL** 関連する文化的コンテキストや補足情報をサイドバーに継続表示する

### Requirement 2: 文化的注意事項ポップアップシステム

**User Story:** 旅行計画を立てる際に、文化的に敏感な事項や避けるべき行動について、適切なタイミングで警告を受けたい。これにより現地でのトラブルを未然に防ぎ、文化的配慮ができる。

#### Acceptance Criteria

1. **WHEN** ユーザーが特定の活動（例：寺院見学、現地での写真撮影、食事など）を旅行プランに追加する **THEN** システム **SHALL** 該当活動に関連する文化的注意事項のポップアップを表示する

2. **IF** 選択された活動に重要な文化的タブーが存在する **THEN** システム **SHALL** 赤色の警告ポップアップで以下の情報を表示する:
   - 具体的な禁止事項
   - 違反した場合の潜在的結果
   - 適切な代替行動の提案

3. **IF** 選択された活動に軽微な文化的配慮事項がある **THEN** システム **SHALL** 黄色の注意ポップアップで推奨される行動指針を表示する

4. **WHEN** 注意事項ポップアップが表示される **THEN** システム **SHALL** ユーザーが「理解しました」ボタンをクリックするまでポップアップを保持する

5. **IF** ユーザーが「詳細情報」をクリックする **THEN** システム **SHALL** より詳細な文化的背景説明と具体的な行動例を別画面で表示する

6. **WHERE** 注意事項が地域固有の法的制約を含む場合 **THE SYSTEM SHALL** 法的リスクレベルを明示的に表示する

7. **WHILE** ユーザーが旅行プランを編集している **THE SYSTEM SHALL** リアルタイムで新しい注意事項をチェックし、必要に応じて新しいポップアップを表示する

### Requirement 3: 翻訳リンク付き観光情報システム

**User Story:** 現地の観光スポットについて、現地語での正確な名称や説明にアクセスしたい。また、言語の壁を越えて現地での円滑なコミュニケーションを実現したい。

#### Acceptance Criteria

1. **WHEN** ユーザーが観光スポットを検索または選択する **THEN** システム **SHALL** 該当スポットの基本情報を現地語と日本語の両方で表示する

2. **IF** 観光スポット情報が表示される **THEN** システム **SHALL** 以下の翻訳リンクを提供する:
   - スポット名の現地語発音ガイド
   - 住所の現地語表記
   - 営業時間の現地語表記
   - 基本的な質問フレーズの現地語翻訳

3. **WHEN** ユーザーが翻訳リンクをクリックする **THEN** システム **SHALL** Google翻訳またはDeepL翻訳の新しいタブを開き、事前に入力された翻訳クエリを表示する

4. **IF** 観光スポットに特別な文化的意義がある **THEN** システム **SHALL** その文化的背景を説明するテキストと関連する翻訳リンクを併記する

5. **WHEN** ユーザーが「現地での会話フレーズ」をクリックする **THEN** システム **SHALL** 以下の実用的フレーズを現地語と発音記号付きで表示する:
   - 「〜はどこですか？」
   - 「入場料はいくらですか？」
   - 「写真を撮ってもいいですか？」
   - 「ありがとうございます」

6. **WHERE** 観光情報表示エリア **THE SYSTEM SHALL** 各翻訳リンクの利用可能言語を明示的に表示する

7. **IF** ユーザーがオフライン利用を想定している **THEN** システム **SHALL** 重要な翻訳情報をPDF形式でダウンロード可能にする

### Requirement 4: ユーザーインターフェースと体験

**User Story:** システムを使用する際に、直感的で効率的な操作により、短時間で必要な文化情報を取得し、旅行計画に反映したい。

#### Acceptance Criteria

1. **WHEN** ユーザーがアプリケーションにアクセスする **THEN** システム **SHALL** 5秒以内にメイン画面を表示する

2. **IF** ユーザーが目的地を入力する **THEN** システム **SHALL** オートコンプリート機能により候補地域を提案する

3. **WHEN** データの読み込みが発生する **THEN** システム **SHALL** 進行状況を示すローディングインジケーターを表示する

4. **WHERE** モバイルデバイスでアクセスされる場合 **THE SYSTEM SHALL** レスポンシブデザインにより最適化された表示を提供する

5. **IF** システムでエラーが発生する **THEN** システム **SHALL** ユーザーフレンドリーなエラーメッセージと復旧手順を表示する

6. **WHILE** ユーザーがシステムを利用している **THE SYSTEM SHALL** ユーザーの操作履歴を保存し、次回アクセス時に改善された体験を提供する

### Requirement 5: データ管理と信頼性

**User Story:** 提供される文化情報が正確で最新であることを確認し、学術的根拠に基づいた信頼できる情報源であることを把握したい。

#### Acceptance Criteria

1. **WHEN** システムが文化情報を表示する **THEN** システム **SHALL** 各情報の出典と最終更新日を明記する

2. **IF** 文化データが7日以上更新されていない **THEN** システム **SHALL** 「情報の確認中」ステータスを表示する

3. **WHERE** 複数の情報源が異なる見解を示す場合 **THE SYSTEM SHALL** 複数の視点を併記し、一般的に受け入れられている見解を明示する

4. **WHEN** ユーザーが情報の正確性について報告する **THEN** システム **SHALL** フィードバック機能を通じて報告を受け付け、管理者に通知する

5. **IF** 緊急性の高い文化的変更（祝日、政治的状況など）が発生する **THEN** システム **SHALL** 24時間以内に該当情報を更新し、ユーザーに通知する